(()=>{"use strict";var e,t={"./examples/dev__whitespace.js":(e,t,n)=>{var a=n("./node_modules/three/build/three.module.js"),i=n("./node_modules/three/examples/jsm/webxr/VRButton.js"),o=n("./node_modules/three/examples/jsm/geometries/BoxLineGeometry.js"),r=n("./node_modules/three/examples/jsm/controls/OrbitControls.js"),l=n("./src/three-mesh-ui.js"),s=n("./examples/assets/Roboto-msdf.json");const d=n.p+"5a41f46a5020bc8f41ff554d0d890ad3.png",p=window.innerWidth,c=window.innerHeight;let u,f,h,m;function g(){l.ZP.update(),m.update(),h.render(u,f)}window.addEventListener("load",(function(){u=new a.xsS,u.background=new a.Ilk(5263440),f=new a.iKG(p/-2,p/2,c/2,c/-2,1,1e3),h=new a.CP7({antialias:!0}),h.setPixelRatio(window.devicePixelRatio),h.setSize(p,c),h.xr.enabled=!0,document.body.appendChild(i.N.createButton(h)),document.body.appendChild(h.domElement),m=new r.z(f,h.domElement),f.position.set(0,.925,0),f.zoom=1275,f.updateProjectionMatrix(),m.target=new a.Pa4(0,1,-1.8),m.update();const e=new a.ejS(new o.d(6,6,6,10,10,10).translate(0,3,0),new a.nls({color:8421504}));u.add(e),function(){const e=new l.ZP.Block({height:1.5,width:.55,justifyContent:"center",alignContent:"center",backgroundOpacity:0});e.position.set(0,.925,-1.8),u.add(e);const t=new l.ZP.Block({height:.4,width:.73,margin:.05,alignContent:"right",justifyContent:"center",padding:.03,interLine:-.01,letterSpacing:0});e.add(t),e.set({fontFamily:s,fontTexture:d});const n="The spiny bush viper is known for its extremely keeled dorsal scales.",i=new l.ZP.Text({fontSize:.06,fontOpacity:.75,content:n}),o=new a.vBJ({color:16750848,opacity:.5});let r=[];i.onAfterUpdate=function(){if(!(i.fontMaterial instanceof v)){for(let t=0;t<r.length;t++){const n=r[t];e.remove(n)}if(r=[],0==i.children.length)return;i.children[0].material=new v(i.fontMaterial),i.children[0].material.uniforms.u_texture.value=i.fontMaterial.uniforms.u_texture.value,i.children[0].material.uniforms.u_opacity.value=i.fontMaterial.uniforms.u_opacity.value;for(let n=0;n<t.lines.length;n++){const i=t.lines[n];if(!i[0])continue;const l=i.lineHeight/4,s=new a.BKK(i.width,l),d=new a.Kj0(s,o);d.position.x=i[0].offsetX+i.width/2,d.position.y=i[0].offsetY+l/2,d.position.z=.018,r.push(d),e.add(d)}}},t.add(i);const p=document.createElement("div");p.classList.add("overlay"),p.innerHTML='\n    <div style="flex-grow: 1; display: flex; flex-direction: column">\n    \x3c!-- Text Area for input --\x3e\n    <textarea></textarea>\n    \x3c!-- Buttons for preset text contents --\x3e\n    <div style="display: flex">\n        <button data-tc="The spiny bush viper is known for its extremely keeled dorsal scales.">Default</button>\n        <button data-tc="The spiny bush viper is \nknown for its extremely \nkeeled dorsal scales.">Default formatted</button>\n        <button data-tc="The spiny bush viper is\nknown for its extremely\nkeeled dorsal scales.">Default formatted trimmed</button>\n        <button data-tc="          d         \n          d         \n          d         ">Untrimmed matrix</button>\n        <button data-tc="a................................. a....."> Issue: html dont break</button>\n    </div>\n    </div>\n\n    <div>\n        \x3c!-- html visualizers of what the render should look like with different white-space value --\x3e\n        <fieldset data-ws="normal">\n            <legend>white-space:normal</legend>\n            <p data-a="left"></p>\n            <p data-a="center"></p>\n            <p data-a="right"></p>\n        </fieldset>\n        <fieldset data-ws="pre-wrap">\n            <legend>white-space:pre-wrap</legend>\n            <p data-a="left"></p>\n            <p data-a="center"></p>\n            <p data-a="right" class="selected"></p>\n        </fieldset>\n        <fieldset data-ws="pre-line">\n            <legend>white-space:pre-line</legend>\n            <p data-a="left"></p>\n            <p data-a="center"></p>\n            <p data-a="right"></p>\n        </fieldset>\n    </div>';const c=p.querySelector("textarea");c.value=n;const f=p.querySelectorAll("p");for(let e=0;e<f.length;e++)f[e].textContent=n,f[e].addEventListener("click",(e=>{for(let e=0;e<f.length;e++)f[e].classList.remove("selected");const n=e.currentTarget;n.classList.add("selected");const a=n.getAttribute("data-a"),o=n.parentElement.getAttribute("data-ws");t.set({alignContent:a,whiteSpace:o}),i.set({whiteSpace:o})}));const h=p.querySelectorAll("button");for(let e=0;e<h.length;e++)h[e].addEventListener("click",(e=>{const t=e.currentTarget;c.value=t.getAttribute("data-tc"),c.dispatchEvent(new Event("input"))}));const m=document.createElement("style");m.textContent='\n        @import url(\'https://fonts.googleapis.com/css2?family=Roboto&display=swap\');\n        .overlay { position:fixed; top:20px; right:20px; display:flex; width:95% }\n        .overlay fieldset{ display:flex; height: fit-content; padding:0.25rem }\n        .overlay fieldset legend { color: orange; font-weight: 700; background: #222; margin: auto; }\n        .overlay p, .overlay textarea { border-radius: 5px;}\n        .overlay textarea { height: 60px; border-radius: 5px; white-space: nowrap; }\n        .overlay p { margin: 0 15px; font-family: \'Roboto\', sans-serif; border-bottom: 3px solid transparent; }\n        .overlay p.selected { border-bottom-color: greenyellow; }\n        .overlay p { cursor: pointer; width:180px; color:whitesmoke; background: #000; padding:15px; }\n        [data-ws="pre-wrap"] p { white-space: pre-wrap; }\n        [data-ws="pre-line"] p { white-space: pre-line; }\n        [data-a="left"] { text-align: left; }\n        [data-a="center"] { text-align: center; }\n        [data-a="right"] { text-align: right; }\n    ',document.head.appendChild(m),document.body.appendChild(p),c.addEventListener("input",(()=>{const e=c.value;for(let t=0;t<f.length;t++)f[t].textContent=e;i.set({content:e})}))}(),h.setAnimationLoop(g)})),window.addEventListener("resize",(function(){const e=window.innerWidth,t=window.innerHeight,n=e/t;f.left=e*n/-2,f.right=e*n/2,f.top=t*n/2,f.bottom=-t*n/2,f.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight)}));class v extends a.jyz{constructor(e){super({uniforms:a.rDY.clone(e.uniforms),transparent:!0,clipping:!0,vertexShader:w,fragmentShader:x,extensions:{derivatives:!0}})}}const w="\n\tvarying vec2 vUv;\n\n\t#include <clipping_planes_pars_vertex>\n\n\tvoid main() {\n\n\t\tvUv = uv;\n\t\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t\tgl_Position.z -= 0.00001;\n\n\t\t#include <clipping_planes_vertex>\n\n\t}\n",x="\n\tuniform sampler2D u_texture;\n\tuniform vec3 u_color;\n\tuniform float u_opacity;\n\n\tvarying vec2 vUv;\n\n\t#include <clipping_planes_pars_fragment>\n\n\tfloat median(float r, float g, float b) {\n\t\treturn max(min(r, g), min(max(r, g), b));\n\t}\n\n\tvoid main() {\n\n\t\tvec3 textureSample = texture2D( u_texture, vUv ).rgb;\n\t\tfloat sigDist = median( textureSample.r, textureSample.g, textureSample.b ) - 0.5;\n\t\tfloat alpha = clamp( sigDist / fwidth( sigDist ) + 0.5, 0.0, 1.0 );\n\t\talpha = min( alpha, u_opacity );\n\n\t\tif( alpha < 0.02) {\n\t\t    gl_FragColor = vec4( vec3(1.)-u_color, 1.0 );\n\t\t}else{\n            gl_FragColor = vec4( u_color, u_opacity );\n         }\n\n\t\t#include <clipping_planes_fragment>\n\n\t}\n"}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,i,o)=>{if(!n){var r=1/0;for(p=0;p<e.length;p++){for(var[n,i,o]=e[p],l=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(l=!1,o<r&&(r=o));if(l){e.splice(p--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[n,i,o]},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j="dev__whitespace",(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={dev__whitespace:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,o,[r,l,s]=n,d=0;if(r.some((t=>0!==e[t]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(s)var p=s(a)}for(t&&t(n);d<r.length;d++)o=r[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(p)},n=self.webpackChunkthree_mesh_ui=self.webpackChunkthree_mesh_ui||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=a.O(void 0,["chunk_imported-assets","chunk_three-mesh-ui","chunk_vendors"],(()=>a("./examples/dev__whitespace.js")));i=a.O(i)})();