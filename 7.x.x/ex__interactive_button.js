(()=>{"use strict";var e,t={"./examples/ex__interactive_button.js":(e,t,n)=>{var o=n("./node_modules/three/build/three.module.js"),r=n("./node_modules/three/examples/jsm/webxr/VRButton.js"),i=n("./node_modules/three/examples/jsm/geometries/BoxLineGeometry.js"),s=n("./node_modules/three/examples/jsm/controls/OrbitControls.js"),a=n("./src/three-mesh-ui.js"),d=n("./node_modules/three/examples/jsm/webxr/XRControllerModelFactory.js");function c(){const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d"),n=t.createLinearGradient(0,0,64,0);return n.addColorStop(0,"black"),n.addColorStop(1,"white"),t.fillStyle=n,t.fillRect(0,0,64,64),e}function l(){const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d");return t.beginPath(),t.arc(32,32,29,0,2*Math.PI),t.lineWidth=5,t.stroke(),t.fillStyle="white",t.fill(),e}var u=n("./examples/assets/fonts/msdf/roboto/regular.json");const w=n.p+"5a41f46a5020bc8f41ff554d0d890ad3.png";let h,p,f,m,b,g,v,x;const y=[];window.addEventListener("load",(function(){h=new o.xsS,h.background=new o.Ilk(5263440),p=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),f=new o.CP7({antialias:!0}),f.setPixelRatio(window.devicePixelRatio),f.setSize(window.innerWidth,window.innerHeight),f.outputEncoding=o.knz,f.xr.enabled=!0,document.body.appendChild(r.N.createButton(f)),document.body.appendChild(f.domElement),m=new s.z(p,f.domElement),p.position.set(0,1.6,0),m.target=new o.Pa4(0,1,-1.8);const e=new o.ejS(new i.d(6,6,6,10,10,10).translate(0,3,0),new o.nls({color:8421504})),t=new o.Kj0(new o.DvJ(6,6,6,10,10,10).translate(0,3,0),new o.vBJ({side:o._Li}));h.add(e),y.push(t);const n=function(e){e||(e={});const t=e.x||2,n=e.y||10,r=e.z||-2,i=e.width||10,s=e.near||.1,a=e.far||30,d=e.bias||-0,c=e.resolution||2048,l=e.color||16777215,u=e.intensity||1,w=e.useHelpers||!1,h=e.castShadow||!0,p=new o.Ox3(l,u);p.position.set(t,n,r),p.castShadow=h;const f=i/2;if(p.shadow.camera.left=-f,p.shadow.camera.right=f,p.shadow.camera.top=f,p.shadow.camera.bottom=-f,p.shadow.camera.near=s,p.shadow.camera.far=a,p.shadow.mapSize.width=c,p.shadow.mapSize.height=c,p.shadow.bias=d,p.helpers=new o.ZAu,w){const e=new o.cBI(p,5),t=new o.Rki(p.shadow.camera);p.helpers.add(e,t)}return p}({z:10,width:6,bias:-1e-4}),j=new o.vmT(8421504,6316128);h.add(n,j),b=function(e){const t=[],n=[],r=new d.i,i=new o.vBJ({color:16777215,alphaMap:new o.ROQ(c()),transparent:!0}),s=new o.nvb(.004,.004,.35);s.translate(0,0,-.15);const a=s.attributes.uv;for(let e=0;e<a.count;e++){let t=a.getX(e),n=a.getY(e);[t,n]=(()=>{switch(e){case 0:case 2:case 5:case 7:case 10:case 11:case 12:case 13:return[1,1];default:return[0,0]}})(),a.setXY(e,t,n)}const u=new o.Kj0(s,i);u.renderOrder=1/0;const w=new o.xeV({map:new o.ROQ(l()),sizeAttenuation:!1,depthTest:!1}),h=new o.jyi(w);h.scale.set(.015,.015,1),h.renderOrder=1/0;const p=e.xr.getController(0),f=e.xr.getController(1);p.name="controller-right",f.name="controller-left";const m=e.xr.getControllerGrip(0),b=e.xr.getControllerGrip(1);p&&t.push(p),f&&t.push(f),m&&n.push(m),b&&n.push(b),t.forEach((e=>{const t=u.clone(),n=h.clone();e.add(t,n),e.ray=t,e.point=n})),n.forEach((e=>{e.add(r.createControllerModel(e))}));const g=new o.yGw;return{controllers:t,controllerGrips:n,setFromController:function(e,n){const o=t[e];g.identity().extractRotation(o.matrixWorld),n.origin.setFromMatrixPosition(o.matrixWorld),n.direction.set(0,0,-1).applyMatrix4(g)},setPointerAt:function(e,n){const o=t[e],r=o.worldToLocal(n);o.point.position.copy(r),o.point.visible=!0}}}(f),h.add(b.controllerGrips[0],b.controllers[0]),b.controllers[0].addEventListener("selectstart",(()=>{k=!0})),b.controllers[0].addEventListener("selectend",(()=>{k=!1})),g=new o.ZAu,g.position.set(0,1,-1.9),h.add(g);const S=new o.Kj0(new o.Wjw(.3,1),new o.Wid({color:4055908,flatShading:!0})),P=new o.Kj0(new o.nvb(.45,.45,.45),new o.Wid({color:6569443,flatShading:!0})),O=new o.Kj0(new o._3(.28,.5,10),new o.Wid({color:14892366,flatShading:!0}));S.visible=P.visible=O.visible=!1,g.add(S,P,O),v=[S,P,O],x=0,_(x),function(){const e=new a.ZP.Block({justifyContent:"center",contentDirection:"row-reverse",fontFamily:u,fontTexture:w,fontSize:.07,padding:.02,borderRadius:.11});e.position.set(0,.6,-1.2),e.rotation.x=-.55,h.add(e);const t={width:.4,height:.15,justifyContent:"center",offset:.05,margin:.02,borderRadius:.075},n={state:"hovered",attributes:{offset:.035,backgroundColor:new o.Ilk(10066329),backgroundOpacity:1,fontColor:new o.Ilk(16777215)}},r={state:"idle",attributes:{offset:.035,backgroundColor:new o.Ilk(6710886),backgroundOpacity:.3,fontColor:new o.Ilk(16777215)}},i=new a.ZP.Block(t),s=new a.ZP.Block(t);i.add(new a.ZP.Text({content:"next"})),s.add(new a.ZP.Text({content:"previous"}));const d={offset:.02,backgroundColor:new o.Ilk(7829367),fontColor:new o.Ilk(2236962)};i.setupState({state:"selected",attributes:d,onSet:()=>{x=(x+1)%3,_(x)}}),i.setupState(n),i.setupState(r),s.setupState({state:"selected",attributes:d,onSet:()=>{x-=1,x<0&&(x=2),_(x)}}),s.setupState(n),s.setupState(r),e.add(i,s),y.push(i,s)}(),f.setAnimationLoop(C)})),window.addEventListener("resize",(function(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight)}));const j=new o.iMs,S=new o.FM8;S.x=S.y=null;let k=!1;function _(e){v.forEach(((t,n)=>{t.visible=n===e}))}function C(){a.ZP.update(),m.update(),g.rotation.z+=.01,g.rotation.y+=.01,f.render(h,p),function(){let e;f.xr.isPresenting?(b.setFromController(0,j.ray),e=P(),e&&b.setPointerAt(0,e.point)):null!==S.x&&null!==S.y&&(j.setFromCamera(S,p),e=P());e&&e.object.isUI&&(k?e.object.setState("selected"):e.object.setState("hovered"));y.forEach((t=>{e&&t===e.object||!t.isUI||t.setState("idle")}))}()}function P(){return y.reduce(((e,t)=>{const n=j.intersectObject(t,!0);return n[0]&&(!e||n[0].distance<e.distance)?(n[0].object=t,n[0]):e}),null)}window.addEventListener("pointermove",(e=>{S.x=e.clientX/window.innerWidth*2-1,S.y=-e.clientY/window.innerHeight*2+1})),window.addEventListener("pointerdown",(()=>{k=!0})),window.addEventListener("pointerup",(()=>{k=!1})),window.addEventListener("touchstart",(e=>{k=!0,S.x=e.touches[0].clientX/window.innerWidth*2-1,S.y=-e.touches[0].clientY/window.innerHeight*2+1})),window.addEventListener("touchend",(()=>{k=!1,S.x=null,S.y=null}))}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var s=1/0;for(l=0;l<e.length;l++){for(var[n,r,i]=e[l],a=!0,d=0;d<n.length;d++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](n[d])))?n.splice(d--,1):(a=!1,i<s&&(s=i));if(a){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,r,i]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j="ex__interactive_button",(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={ex__interactive_button:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[s,a,d]=n,c=0;if(s.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(d)var l=d(o)}for(t&&t(n);c<s.length;c++)i=s[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(l)},n=self.webpackChunkthree_mesh_ui=self.webpackChunkthree_mesh_ui||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,["chunk_imported-assets","chunk_three-mesh-ui","chunk_vendors"],(()=>o("./examples/ex__interactive_button.js")));r=o.O(r)})();